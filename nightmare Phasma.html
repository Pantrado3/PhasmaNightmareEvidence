<html>
<head>
<!--
first version was 20/01/2022
(hopefully) last version 26/01/2022
Made by Blossom
If you think you can improve it, go ahead, it's been years since I wrote any js or html and I made most of this in a single day
Did some bug fixes and visual improvements afterwards
As long as I keep credit for the original
I designed it in a way where you, yes you the user, can switch and edit stuff
New ghost? simply add it to the array, want something like "speed" as evidence you can add it to the evidence types and it should work
Youtube: https://www.youtube.com/channel/UCk9LLIlH68Be1ydByXGKQjg
Open source, so you can edit it for future refrences, I have no clue about stuff like paperwork and laws, just give me credit, don't sell and stuff
You can add more evidence types by adding another value in the array and one in the evidence array make sure to have "?" as second value 
add more ghosts by just copy-paste a line and editing it
I have like 75 hours in the game, so I am not that good 
now 100
Also shoutout to Toasty Team Fortress 2 Team and Fish person for playing with me and checking this thing
!-->
<title>Phasma Nightmare Book</title>
<script>
var evidence_types = [
["dots","?"],
["writing","?"],
["EMF 5","?"],
["orbs","?"],
["finger","?"],
["freezing","?"],
["box","?"]
]
//	All the evidence types, the "?" is the current value it has, the HTML element with the same id hasa value which is the # in thearray
// Add one by copy pasting one that is not the last one, make sure to leave the last one as the last one
// the name X is not allowed for it
//					[d,w,E,o,f,t,s]  [speed,        hunt,   ,rest
var ghosts = [
["Spirit",			[0,1,1,0,0,0,1], ["consistent","normal","X"]],
["Wraith",			[1,0,1,0,0,0,1], ["consistent","normal","no footprints when walking in salt"]],
["Phantom",			[1,0,0,0,1,0,1], ["consistent","normal","more invis during hunt"]],
["Poltergeist",		[0,1,0,0,1,0,1], ["consistent","normal","throw multiple things"]],
["Banshee",			[1,0,0,1,1,0,0], ["consistent","normal","target only one player others can't die"]],
["Jinn",			[0,0,1,0,1,1,0], ["inconsistent","normal","can not turn fuse box off"]],
["Mare",			[0,1,0,1,0,0,1], ["consistent","high","chance to instantly turn off light when player turns it on"]],
["Revenant",		[0,1,0,1,0,1,0], ["inconsistent","normal","X"]],
["Shade",			[0,1,1,0,0,1,0], ["always slow","low","shy, no hunt with 3 people in room"]],
["Demon",			[0,1,0,0,1,1,0], ["consistent","always","X"]],
["Yurei",			[1,0,0,1,0,1,0], ["consistent","normal","X"]],
["Oni",				[1,0,1,0,0,1,0], ["consistent","normal","more active"]],
["Yokai",			[1,0,0,1,0,0,1], ["consistent","high","higher chance of hunt while talking"]],
["Hantu",			[0,0,0,1,1,2,0], ["inconsistent","normal","X"]],
["Goryo",			[2,0,1,0,1,0,0], ["consistent","normal","DOTS only when no-one in room"]],
["Myling",			[0,1,1,0,1,0,0], ["consistent","normal","quieter during hunt"]],
["Onryo",			[0,0,0,1,0,1,1], ["consistent","high","flame extuingish can cause attack"]],
["The_Twins",		[0,0,1,0,0,1,1], ["consistent","normal","2 interactions at the smae time in diffrent rooms"]],
["Raiju",			[1,0,1,1,0,0,0], ["consistent","high","larger electric disrupt during hunt"]],
["Obake",			[0,0,1,1,2,0,0], ["consistent","normal","6 fingers sometimes"]],
["The_Mimic",		[0,0,0,2,1,1,1], ["inconsistent","change","can act and do any ghosts abilities"]]
]
// add one by copy/ pasting one that is not the last one
//The array after the name MUST be as long as the evidence_types array 
//a 0 means it's not evidence, a 1 means it is evidence and a 2 is required for it
//there is comment above the array that explains what each thing is
//this system and having 2 
//you can add something like diffrent speed and put the evidence as "?" in the ghost array, that will work too
function CheckEvidence () {
	var Levidence = []
	for(var i=0;i<evidence_types.length;i++){ // there is literally no reason to do it this way
		Levidence[i]=evidence_types[i][1]
	}
	function Nisnot (Pid) { // Nested is not, for when it's not that ghost
		document.getElementById(ghosts[Pid][0]).style.color="red"
		document.getElementById(ghosts[Pid][0]).style.fontStyle="italic"
		document.getElementById(ghosts[Pid][0]).style.textDecoration="none"
	}
	var Lamount_of_no_evidence = 0
	var Lamount_of_total_ghost_evidence = 0
	var Lhasatwo = -1
	var Lamount_of_good_evidence = 0
	for (var i=0; i<ghosts.length;i++) {
		if(ghosts[i][1].length!==evidence_types.length){ // just don't be dumb and listen to what I say
			alert("You didn't make the ghost evidence as long as the evidence type array in at minimum ghost " +ghosts[i][0]+" now suffer")
			document.body.innerHTML=""
		}
		if(document.getElementById(ghosts[i][0]).style.color=="red"&&document.getElementById(ghosts[i][0]).style.textDecoration=="none"){ // reset colors unless manual discount
			document.getElementById(ghosts[i][0]).style.color="white"
			document.getElementById(ghosts[i][0]).style.textDecoration="underline"
			document.getElementById(ghosts[i][0]).style.fontStyle="normal"
		}
		Lamount_of_no_evidence = 0
		Lamount_of_good_evidence=0
		Lamount_of_total_ghost_evidence = 0
		Lhasatwo = -1
		Lamount_of_good_evidence = 0
		for (var ii=0; ii<ghosts[i][1].length;ii++) {
			if(ghosts[i][1][ii]>=1){ //should be self explenatory
				Lamount_of_total_ghost_evidence++
			}	
			if(ghosts[i][1][ii]==2) {
				Lhasatwo=ii
			}
			if ( Levidence[ii]!=="?"&&ghosts[i][1][ii]!=="?"&&Levidence[ii]!==ghosts[i][1][ii]) { //if they are not unknown AND not the same 
				if(ghosts[i][1][ii]==2&&Levidence[ii]==0) { //crucial and it's not there 
					Nisnot(i)
					ii=ghosts[i][1].length
				} 
				if(ghosts[i][1][ii]==0&&Levidence[ii]==1){ // when it doesn't have evidence and there is that evidence
					Nisnot(i)
					ii=ghosts[i][1].length
				} else if(Levidence[ii]==0){ // so you can only be here if it's either 2/1 or 1/0 and if it's a 0 you know it could be missing so it counts
					Lamount_of_no_evidence++
					if(Lamount_of_no_evidence>=2){ // ghosts can only miss one evidence, so if it is 2 or more you know it's not this ghost
						Nisnot(i)
						ii=ghosts[i][1].length						}
					}
				} else if(ghosts[i][1][ii]!=="?"&&Levidence[ii]==1){ //if it's not unknown, which basically means they are the same, no other situation will this happen unless it's 1/1
				Lamount_of_good_evidence++ 
				}
			if (Lhasatwo!==-1&&ii==evidence_types.length-1&&Levidence[Lhasatwo]!==1&&Lamount_of_good_evidence>=Lamount_of_total_ghost_evidence-1){ // this is for stuff like obake if they have the 2 other evidence but not the crucial one, it just checks if it has crucial, if the crucial is not present AND the provided evidence is the same amount as the ghost has minus one, since it's nightmare
				Nisnot(i)
			}
		}
	}
}
//I am lazy so not going to explain the checkevidence function in detail
function countordiscountevidence (Pthis,Psetvalue){
	if(evidence_types[Pthis.value][1]=="?") {
		var Lgreenred = ["red","green"]
		evidence_types[Pthis.value][1]=Psetvalue
		Pthis.style.color=Lgreenred[Psetvalue]
	} else if (evidence_types[Pthis.value][1]!==Psetvalue){
		evidence_types[Pthis.value][1]="?"
		Pthis.style.color="white"
	}
	CheckEvidence()
}

function bootup () {
	setInterval(timerupdate,1000)
	document.addEventListener('contextmenu', event => event.preventDefault());
	for(var i=0;i<evidence_types.length;i++){
		var Lspace = document.createElement("X")
		Lspace.innerHTML = " "
		var Laddelement = document.createElement("b")
		Laddelement.id=evidence_types[i][0]
		Laddelement.value=i
		Laddelement.onclick= function () {countordiscountevidence(this,1)}
		Laddelement.oncontextmenu= function () {countordiscountevidence(this,0)}
		document.getElementById("evidences").appendChild(Laddelement)
		document.getElementById(evidence_types[i][0]).innerHTML=evidence_types[i][0]
		document.getElementById("evidences").appendChild(Lspace)
	}
	for(var i=0;i<ghosts.length;i++){
		var Lspace = document.createElement("X")
		Lspace.innerHTML = " "
		var Lleftrightcenter = ["left","none","right"]
		var Lleftrightcentertext = ["left","center","right"]
		var Laddelement = document.createElement("div")
		Laddelement.id=ghosts[i][0]
		Laddelement.classList.add("ghostname")
		Laddelement.style.float=Lleftrightcenter[i%3]
		Laddelement.style.textAlign=Lleftrightcentertext[i%3]
		Laddelement.value=i
		Laddelement.style.textDecoration="underline"
		Laddelement.oncontextmenu=function () {manualdiscount(this.value)}
		Laddelement.onclick= function () {setinfo(this.value)}
		document.getElementById("ghosts").appendChild(Laddelement)
			if((i+1)%3==0){
				document.getElementById("ghosts").appendChild(document.createElement("br"))
			} else {
				document.getElementById("ghosts").appendChild(Lspace)
			}
		document.getElementById(ghosts[i][0]).innerHTML =ghosts[i][0]
	}
}

function manualdiscount (Ptype) {
	if(document.getElementById(ghosts[Ptype][0]).style.textDecoration=="underline"){
		if(document.getElementById(ghosts[Ptype][0]).style.color=="red"){
			document.getElementById(ghosts[Ptype][0]).style.color="white"
		} else {
			document.getElementById(ghosts[Ptype][0]).style.color="red"
		}
	}
}

function setinfo (Ptype) {	
	document.getElementById("infoname").innerHTML=ghosts[Ptype][0]
	document.getElementById("infoname").href="https://phasmophobia.fandom.com/wiki/"+ghosts[Ptype][0]
	document.getElementById("infospeed").innerHTML=ghosts[Ptype][2][0]
	document.getElementById("infohunt").innerHTML=ghosts[Ptype][2][1]
	document.getElementById("infoother").innerHTML=ghosts[Ptype][2][2]
	var Levidencelist = "X"
	document.getElementById("infoevidence").title=""
	for(var i=0; i<ghosts[Ptype][1].length;i++){
		if(ghosts[Ptype][1][i]>=1){
			if(ghosts[Ptype][1][i]==2){
				document.getElementById("infoevidence").title=evidence_types[i][0]+" is required"
			} else if(ghosts[Ptype][1][i]==1){
				if(Levidencelist!=="X") {
					Levidencelist+=", "+evidence_types[i][0]
				} else {
					Levidencelist=evidence_types[i][0]
				}
			}
		}
	}
	if(document.getElementById("infoevidence").title!==""){
		document.getElementById("infoevidence").innerHTML=Levidencelist+", "+document.getElementById("infoevidence").title
	} else {
		document.getElementById("infoevidence").innerHTML=Levidencelist	
	}
}

function helpquestionmarks (){
	if(document.getElementById("FORCERDINFO").hidden){
	document.getElementById("cont").hidden=true
	document.getElementById("info").hidden=true
	document.getElementById("FORCERDINFO").hidden=false
	} else {
	document.getElementById("cont").hidden=false
	document.getElementById("info").hidden=false
	document.getElementById("FORCERDINFO").hidden=true
	}
}

var timingsecond = 0;

function timerupdate () {
	timingsecond++
	document.getElementById("infotime").innerHTML=timingsecond
}

function resetbut () {
	timingsecond=0
	for(var i=0;i<ghosts.length;i++){
		document.getElementById(ghosts[i][0]).style.color="white"
		document.getElementById(ghosts[i][0]).style.textDecoration="underline"
		document.getElementById(ghosts[i][0]).style.fontStyle="normal"
	}
	document.getElementById("infoname").innerHTML=""
	document.getElementById("infospeed").innerHTML=""
	document.getElementById("infohunt").innerHTML=""
	document.getElementById("infoother").innerHTML=""
	document.getElementById("infoevidence").title=""
	document.getElementById("infoevidence").innerHTML=""
	for(var i=0;i<evidence_types.length;i++){
		evidence_types[i][1]="?"	
		document.getElementById(evidence_types[i][0]).style.color="white"
	}
}

</script>
<style>
body {
  background-color: #654321;
  color:white;
  font-size: 35px;
    -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}
b {
  cursor:pointer;
}
.ghostname {
  position:relative;
  width:25%;
  height:36px;
  left:0;
  right:0;
  padding-left:2px;
  padding-right:2px;
  margin-bottom:10px;
  margin-top:5px;
  display:inline-block;
  text-decoration: underline;
  cursor:crosshair;
}
.ghostname:hover {
  border:1px white solid;
  height:46px;
  display:inline;
  background-color: #a0a0a0;
  margin-bottom:0px;
  margin-top:0px;
  font-size: 45px;
}
div#ghosts {
  text-align:center;
} 
div#evidences {
  text-align:center
}
div#cont {
  background-color: black;
  border-radius: 35px;
  width:60%;
  position:absolute;
  border:1px solid white;
  height:90%;
}
div#credits:hover {
  position:absolute;
  bottom:0;
  color: #e075f0;
}
div#credits {
  position:absolute;
  bottom:0;
  color: #654321;
}
div#help {
  position:absolute;
  bottom:0;
  right:0;
  text-align:center;
  width:40px;
  height:40px;
  border: 3px solid white;
  border-radius:100%;
}
div#info {
  padding: 3px;
  border-radius: 35px;
  background-color: black;
  width:35%;
  height:90%;
  position:absolute;
  right:0;
  border: 1px solid white;
}
div#resetbutton {
  position: absolute;
  bottom:8%;
  margin:0;
  left:50%;
  transform: translate(-50%, -50%);
  width 14%;
  text-align:center;
}

button {
  border-radius: 14px;
  background: #a0a0a0;
  color: white;
  font-size: 75px;
}
</style>
</head>
<body onload="bootup()">
<div id="FORCERDINFO" hidden=true> right click ghost names to toggle discounting them, only works on ghosts not discounted by evidence <br>
Timer starts when you reset<br>
The evidence and ghosts are in the right side, info is on the left. Get info by clicking on a ghost. The name is also a link to the wiki page. The info I put down is little and compact, go to the wiki for more.
<br>
If the evidence type is green it counts, if it's red it's discounted, if it's white it's unknown. right click to discount left click to count and cancel green with right click and vica versa
This is made for nightmare mode so discounting works like it's supposed to work on nightmare mode<br>
It also keeps track of the crucial evidence types and mimic <br>
Click the question mark again to show everything again
<br> credits and explenation in source code<br> 
0,3%/s on small, 0,2%/s on medium 0,125%/s on large <br>
credits in the bottom left
</div>
<div id="cont">
<br>
<div id="evidences"></div>
<br>
<div id="ghosts"></div>
<br>
</div>
<div id="info">
<br>
name: <a id="infoname" target="_blank"></a><br>
speed: <text id="infospeed" title="If the ghost can speed up/slow down during a hunt"></text><br>
hunting %: <text id="infohunt"></text> <br>
evidences: <text id="infoevidence"></text><br>
other: <text id="infoother"> </text> 
<div id="resetbutton"><button onclick="resetbut();">Reset</button><br><i id="infotime" title="0,3%/s on small, 0,2%/s on medium 0,125%/s on large"></i></div>
</div>
<div id="credits" title="Credits in sourcefile">Made by Blossom</div>
<div id="help" onclick="helpquestionmarks()">?</div>
</body>
</html>